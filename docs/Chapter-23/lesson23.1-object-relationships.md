23.1 — 对象关系  
============================

[*作者：Alex*](https://www.learncpp.com/author/Alex/ "查看 Alex 的所有文章")  
2016年8月10日 太平洋夏令时中午12:42，2023年9月11日修订  

 






生活中充满了重复出现的模式、关系以及对象之间的层次结构。通过探索和理解这些模式，我们可以洞察真实世界对象的行为方式，加深对这些对象的认知。


例如某天走在街上，你看到一个附着在绿色灌木状物体上的亮黄色物体。你可能会立即识别出亮黄色的是花朵（flower），绿色灌木状的是植物（plant）。即使从未见过这类植物，你仍知道绿色部分是进行光合作用的叶子（leaves），花朵帮助植物繁殖。若摧毁植物，花朵也会随之凋零。


但为何能在初次接触这类植物时便知悉这些？答案在于你理解植物的抽象概念，并识别出该植物是该抽象的具体实例。你知道大多数植物由叶子组成，某些带有花朵；叶子与阳光互动（即使不了解具体机制），花朵的存在依赖植物本体。基于对植物的一般性认知，你便可推断出该植物的诸多特性。


编程领域同样充满重复出现的模式、关系和层次结构。尤其在处理编程对象时，支配真实世界对象的模式同样适用于我们创建的编程对象。通过深入分析这些模式，我们可以更好地提升代码复用性，编写更具扩展性的类（class）。


在前序章节中，我们已探索过部分重复模式：通过创建循环（loop）和函数（function）来执行重复任务；通过枚举（enum）、结构体（struct）和类（class）来实例化特定类型的对象。


我们也接触过基础的层次结构形式，例如数组（array，允许将元素组合为更大结构）和递归（recursion，函数调用自身的衍生版本）。


然而，我们尚未深入探讨对象之间的关系——特别是编程语境下的对象关系。


**对象之间的关系**  

现实世界中，两个对象可能具有多种不同的关系类型，我们使用特定的"关系类型词"来描述这些关联。例如：正方形"是一个（is-a）"形状（shape）；汽车"拥有一个（has-a）"方向盘（steering wheel）；程序员"使用一个（uses-a）"键盘（keyboard）；花朵"依赖于（depends-on）"蜜蜂授粉；学生是班级的"成员（member-of）"；你的大脑作为"组成部分（part-of）"存在于体内（至少，若你能读到此处，我们可合理假设如此）。


所有这些关系类型在C++中都有对应的类比实现。


本章我们将探讨"组成部分（part-of）"、"拥有（has-a）"、"使用（uses-a）"、"依赖（depends-on）"和"成员（member-of）"等关系类型的细微差别，并展示它们在C++类（class）语境下的应用价值。同时也会讨论几个无法明确归类的相关主题。


接下来的两章，我们将通过C++的继承（inheritance）模型和虚函数（virtual function）重点探讨"是一个（is-a）"关系。是的，这是个重要主题。


背景铺垫已足够，让我们正式进入主题。


[下一课 23.2 — 组合（Composition）](Chapter-23/lesson23.2-composition.md)  
[返回主页](/)  
[上一课 22.x — 第22章总结与测验](Chapter-22/lesson22.x-chapter-22-summary-and-quiz.md)