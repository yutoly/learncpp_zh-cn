0.12 — 配置编译器：选择语言标准  
===============================================================

[*作者：Alex*](https://www.learncpp.com/author/Alex/ "查看 Alex 的所有文章")  
2019年11月12日 下午6:26（太平洋标准时间）  
2025年2月27日更新  

面对众多C++版本（C++98、C++03、C++11、C++14、C++17、C++20、C++23等），编译器如何确定使用哪个标准？通常编译器会默认选择某个标准，但默认选项往往*不是*最新标准——许多编译器默认采用C++14，这缺失了大量新特性。  

若要使用其他语言标准（推荐这样做），需在IDE/编译器中手动配置。  

语言标准的命名惯例（如C++20）基于其发布年份。由于正式发布时间可能延迟，开发阶段的标准会使用开发代号。例如C++20的开发代号是C++2a。  

| 发布年份 | 正式名称               | 常规名称 | 开发代号 | 备注                                  |  
|----------|------------------------|----------|----------|---------------------------------------|  
| 2011     | ISO/IEC 14882:2011     | C++11    | C++0x    |                                       |  
| 2014     | ISO/IEC 14882:2014     | C++14    | C++1y    |                                       |  
| 2017     | ISO/IEC 14882:2017     | C++17    | C++1z    |                                       |  
| 2020     | ISO/IEC 14882:2020     | C++20    | C++2a    |                                       |  
| 2024     | ISO/IEC 14882:2024     | C++23    | C++2b    | 2023年完成技术定稿                   |  
| 待定     | 待定                   | C++26    | C++2c    |                                       |  

附注：C++11的开发代号C++0x源自预期在2010年前发布。  

**如何选择语言标准？**  
专业环境通常选择比最新标准早1-2代的版本（例如若最新是C++20，则选C++14或C++17）。这确保编译器厂商有时间修复缺陷，同时新特性的最佳实践已明确。此举也有助于跨平台兼容性，因部分平台的编译器可能无法立即全面支持新标准。  

对于个人项目和学习，推荐使用最新已定稿标准，几乎没有弊端。  

> **提示**  
> 许多编译器提供对未定稿标准的"实验性"支持。可通过IDE设置选择其常规名称或开发代号启用。此类支持不完整且可能存在缺陷。  

**作者说明**  
本站内容主要基于C++17标准。部分C++20和C++23内容需兼容编译器支持。为充分利用教程，推荐使用编译器支持的最新标准。若编译器不支持C++17，建议升级或使用在线编译器。  

> **重要提醒**  
> 修改语言标准（及其他项目设置）时，需对所有构建配置生效。  

**Visual Studio设置**  
截至本文撰写时，VS 2022默认支持C++14。要使用C++17/C++20特性需手动启用：  

1. 打开项目 > *项目菜单 > (项目名称)属性*  
2. 进入*配置属性 > C/C++ > 语言*  
3. 设置*C++语言标准*为"ISO C++ 最新版 (/std:c++latest)"  

![](https://www.learncpp.com/images/CppTutorial/Chapter0/VS2019-Project-Language-min.png)  

> **警告**  
> 每次新建项目都需重新选择标准。  

**Code::Blocks设置**  
1. 进入*设置菜单 > 编译器...*  
![Code::Blocks C++11设置](https://www.learncpp.com/images/CppTutorial/Chapter0/CB-SettingsCompiler-min.png)  
2. 选择最新ISO标准（如C++20）  
![](https://www.learncpp.com/images/CppTutorial/Chapter0/CB-C++11-min.png)

若无C++17选项，建议更新MinGW。可在"其他编译器选项"手动添加参数：  
`-std=c++11`、`-std=c++17`等  

**GCC/G++/Clang设置**  
使用编译器参数：  
`-std=c++11`、`-std=c++17`等  
GCC 8/9需用`-std=c++2a`支持C++20  

**VS Code设置**  
1. 在`tasks.json`的`"args"`段添加标准参数  
2. 在`settings.json`配置：  
`"C_Cpp.default.cppStandard": "c++20"`  

**导出配置**  
为避免每次新建项目都需配置，多数IDE支持导出模板：  
- VS：通过*项目 > 导出模板*创建  
- Code::Blocks：*文件 > 另存为模板*  

**标准文档说明**  
C++标准文档需付费购买。开发阶段的草案标准可免费获取。编译器对新特性的支持可能不完整，可通过[CPPReference](https://en.cppreference.com/w/cpp)查看各编译器支持情况。  

若程序无法编译，可能原因：  
1. 编译器配置了旧标准  
2. 编译器版本不支持该特性  

建议升级编译器或改用支持该特性的其他编译器。  

[下一课 0.13 — 编译器使用的语言标准](Chapter-0/lesson0.13-what-language-standard-is-my-compiler-using.md)  
[返回主页](/)  
[上一课 0.11 — 配置编译器：警告与错误级别](Chapter-0/lesson0.11-configuring-your-compiler-warning-and-error-levels.md)