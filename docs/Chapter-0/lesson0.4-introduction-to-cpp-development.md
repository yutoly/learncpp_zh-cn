0.4 — C\+\+开发入门  
========================================

[*作者：Alex*](https://www.learncpp.com/author/Alex/ "查看 Alex 的所有文章")  
2024年10月17日（首次发布于2007年5月27日）  

在编写和执行第一个C\+\+程序之前，我们需要更深入了解C\+\+程序的开发过程。下图展示了一个简化的开发流程：  
![软件开发流程](https://www.learncpp.com/images/CppTutorial/Chapter0/Development-min.png?ezimgfmt=rs%3Adevice%2Frscb2-1)  

**步骤1：明确需要解决的问题**  
这是"做什么"的阶段，需要确定要解决的具体问题。提出程序设计的初始构想可能很简单，也可能极具挑战性。但从概念上讲，这是最基础的步骤——只需一个明确定义的想法即可进入下一阶段。  

示例：  
* "编写可输入多个数字并计算平均值的程序"  
* "开发生成2D迷宫并支持用户导航的程序，到达终点即为胜利"  
* "创建读取股票价格文件并预测涨跌趋势的程序"  

**步骤2：确定解决方案**  
这是"怎么做"的阶段，需要规划如何解决步骤1提出的问题。这是软件开发中最常被忽视的环节。关键在于解决问题存在多种方法——有些方案优秀，有些则拙劣。程序员常犯的错误是获得灵感后立即开始编码，这往往导致方案落入"拙劣"范畴。  

优秀方案通常具备以下特征：  
* 简明直接（避免过度复杂或混乱）  
* 文档完善（特别是对假设和限制的说明）  
* 模块化构建（各部分可复用或修改而不影响其他模块）  
* 异常处理优雅（意外发生时能妥善恢复或提供有效错误信息）  

立即编码的思维方式（"我要实现<某个功能>"）可能导致程序脆弱、难以扩展或充满错误。**错误（bug）**指导致程序运行异常的任何编程失误。  

> **历史趣闻**  
> "bug"一词最早由托马斯·爱迪生在1870年代使用！但该术语在1940年代流行开来，当时工程师在早期计算机硬件中发现导致短路的飞蛾。该错误记录日志和飞蛾标本现藏于美国国家历史博物馆，可[在此查看](https://americanhistory.si.edu/collections/nmah_334663)。  

研究表明，在复杂软件系统中，程序员仅10-40%时间用于初始编码，其余60-90%用于**维护**——包括**调试（debugging）**（消除错误）、环境适配（如新OS版本）、功能增强（改进易用性）或内部优化（提升可靠性）[1](https://web.archive.org/web/20120313070806/http://users.jyu.fi/~koskinen/smcosts.htm)。  

因此，在编码前投入时间规划最佳方案、明确假设并制定扩展计划，将大幅节省后续时间成本。我们将在后续课程深入探讨问题解决方案的设计方法。  

**步骤3：编写程序**  
编写程序需要两项准备：  
1. 编程语言知识——这正是本教程的目的！  
2. 用于编写和保存C\+\+程序的文本编辑器  

我们在编辑器中输入的C\+\+指令称为**源代码（source code）**（简称**代码（code）**）。虽然可以使用Windows记事本或Unix的vi/pico等基础编辑器，但**强烈建议使用专为编程设计的编辑器（代码编辑器（code editor））**。  

基础编辑器中的程序示例如下：  
```
#include <iostream>

int main()
{
    std::cout << "Here is some text.";
    return 0;
}
```  

专业代码编辑器应具备以下核心功能：  
1. **行号显示**：编译器报错时通常提示"错误代码/信息，第64行"，无行号显示将难以定位  
2. **语法高亮**：通过色彩区分代码不同成分，提升可读性  
3. **等宽字体（monospace font）**：避免数字0与字母O、数字1与字母l/I的混淆。所有代码编辑器默认启用此功能  

以下是带行号、语法高亮和等宽字体的C\+\+程序示例：  
```
#include <iostream>

int main()
{
    std::cout << "Here is some text.";
    return 0;
}
```  
本教程展示的源代码均包含行号和语法高亮以增强可读性。  

> **字体推荐**  
> [Coding Font](https://www.codingfont.com/)和[Programming Fonts](https://www.programmingfonts.org)提供编程字体对比工具，助您选择心仪字体。  

> **进阶阅读**  
> 由于源代码使用ASCII字符，编程语言需借助ASCII艺术表达数学概念。例如用`!=`表示≠。  
> [Fira Code](https://github.com/tonsky/FiraCode)等字体通过连字将双字符组合显示为单字符（如将`!=`显示为≠）。这种设计见仁见智——有人喜爱其直观性，有人偏好原始字符表达。  

简单C\+\+程序通常仅有一个源代码文件，但复杂项目可能包含数百甚至数千个文件。每个源代码文件需遵循命名规范：  

* **主文件命名**：约定俗成将主文件命名为`main.cpp`（`.cpp`扩展名表示C\+\+源文件）  
* **替代命名**：偶尔可见以程序功能命名（如`calculator.cpp`）或其他扩展名（如`.cc`或`.cxx`）  

> **最佳实践**  
> 将每个程序的主源代码文件命名为`main.cpp`，便于快速识别主文件。  

完成程序编写后，下一步是将源代码转换为可执行文件并测试运行！我们将在下节课讨论后续步骤（4-7）。  

[下一课 0.5 编译器、链接器与库简介](Chapter-0/lesson0.5-introduction-to-the-compiler-linker-and-libraries.md)  
[返回主页](/)  
[上一课 0.3 C/C\+\+简介](Chapter-0/lesson0.3-introduction-to-cplusplus.md)